## Microservice Architecture
### Тема: Prometheus. Grafana
#### Задание №3:

- [x] Инструментировать сервис из прошлого задания метриками в формате Prometheus с помощью библиотеки для вашего фреймворка и ЯП. 

- [x] Сделать дашборд в Графане, в котором были бы метрики с разбивкой по API методам:
    1. Latency (response time) с квантилями по 0.5, 0.95, 0.99, max 
    2. RPS
    3. Error Rate - количество 500ых ответов

- [x] Добавить в дашборд графики с метрикам в целом по сервису, взятые с nginx-ingress-controller:
    1. Latency (response time) с квантилями по 0.5, 0.95, 0.99, max 
    2. RPS
    3. Error Rate - количество 500ых ответов

- [x] Настроить алертинг в графане на Error Rate и Latency.

- [x] Провести стресс-тестирование сервиса

На выходе должно быть:
0) скриншоты дашборды с графиками в момент стресс-тестирования сервиса. Например, после 5-10 минут нагрузки.
1) json-дашборды.


Задание со звездочкой (+5 баллов)
Используя существующие системные метрики из кубернетеса, добавить на дашборд графики с метриками:
- [x] Потребление подами приложения памяти
- [x] Потребление подами приолжения CPU

Инструментировать базу данных с помощью экспортера для prometheus для этой БД. 
Добавить в общий дашборд графики с метриками работы БД. 

Альтернативное задание на 1 балл (если не хочется самому ставить prometheus в minikube):
https://www.katacoda.com/schetinnikov/scenarios/prometheus-client


------------------------------------------------------------------
#### Примечания по решению:
    
Для нагрузки использовался Postman Collection Runner (homework-03/load-testing/architecture_task3.postman_collection.json), delay=400ms

Grafana Dashboard:

![alt text](screenshots/1.png "")​

![alt text](screenshots/2.png "")​
